{"version":3,"file":"signup-DDZOIB_z.js","sources":["../../../app/routes/signup.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { Form, redirect, useActionData, useNavigation } from 'react-router';\nimport type { Route } from './+types/signup';\nimport { signupUser } from '~/models/auth/auth.model';\n\nexport async function action({ request }: Route.ActionArgs) {\n  const formData = await request.formData();\n  const username = formData.get('username') as string;\n  const email = formData.get('email') as string;\n  const password = formData.get('password') as string;\n\n  try {\n    await signupUser({ username, email, password });\n    return redirect('/login?verified=pending');\n  } catch (error) {\n    return { error: error instanceof Error ? error.message : 'Failed to create account' };\n  }\n}\n\nexport default function SignupPage() {\n  const actionData = useActionData<typeof action>();\n  const navigation = useNavigation();\n  const isSubmitting = navigation.state === 'submitting';\n\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n\n  // Calculate if passwords match (both must have values and be equal)\n  const passwordsMatch = password.length > 0 && password === confirmPassword;\n  const showPasswordMismatch = confirmPassword.length > 0 && password !== confirmPassword;\n  const isFormValid = password.length >= 8 && passwordsMatch;\n\n  const handlePasswordChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setPassword(e.target.value);\n  };\n\n  const handleConfirmPasswordChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setConfirmPassword(e.target.value);\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div>\n          <h1 className=\"text-center text-3xl font-extrabold text-gray-900\">\n            Create your account\n          </h1>\n          <p className=\"mt-2 text-center text-sm text-gray-600\">\n            Join Tweeter and start sharing\n          </p>\n        </div>\n\n        <Form method=\"post\" className=\"mt-8 space-y-6\">\n          {actionData?.error && (\n            <div className=\"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded\">\n              {actionData.error}\n            </div>\n          )}\n\n          <div className=\"space-y-4\">\n            <div>\n              <label htmlFor=\"username\" className=\"block text-sm font-medium text-gray-700\">\n                Username\n              </label>\n              <input\n                id=\"username\"\n                name=\"username\"\n                type=\"text\"\n                required\n                minLength={3}\n                maxLength={20}\n                pattern=\"[a-zA-Z0-9_]+\"\n                className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"johndoe\"\n              />\n              <p className=\"mt-1 text-xs text-gray-500\">\n                3-20 characters, letters, numbers, and underscores only\n              </p>\n            </div>\n\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n                Email address\n              </label>\n              <input\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                required\n                className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"you@example.com\"\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n                Password\n              </label>\n              <input\n                id=\"password\"\n                name=\"password\"\n                type=\"password\"\n                required\n                minLength={8}\n                value={password}\n                onChange={handlePasswordChange}\n                className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"••••••••\"\n              />\n              <p className=\"mt-1 text-xs text-gray-500\">At least 8 characters</p>\n            </div>\n\n            <div>\n              <label htmlFor=\"confirm-password\" className=\"block text-sm font-medium text-gray-700\">\n                Confirm password\n              </label>\n              <input\n                id=\"confirm-password\"\n                type=\"password\"\n                required\n                value={confirmPassword}\n                onChange={handleConfirmPasswordChange}\n                className={`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 ${\n                  showPasswordMismatch ? 'border-red-300' : 'border-gray-300'\n                }`}\n                placeholder=\"••••••••\"\n              />\n              {showPasswordMismatch && (\n                <p className=\"mt-1 text-xs text-red-600\">Passwords do not match</p>\n              )}\n            </div>\n          </div>\n\n          <button\n            type=\"submit\"\n            disabled={isSubmitting || !isFormValid}\n            className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {isSubmitting ? 'Creating account...' : 'Sign up'}\n          </button>\n\n          <p className=\"text-center text-sm text-gray-600\">\n            Already have an account?{' '}\n            <a href=\"/login\" className=\"font-medium text-blue-600 hover:text-blue-500\">\n              Log in\n            </a>\n          </p>\n        </Form>\n      </div>\n    </div>\n  );\n}\n"],"names":["signup","_UNSAFE_withComponentProps","actionData","useActionData","isSubmitting","useNavigation","state","password","setPassword","useState","confirmPassword","setConfirmPassword","passwordsMatch","length","showPasswordMismatch","isFormValid","handlePasswordChange","e","target","value","handleConfirmPasswordChange","className","children","jsxs","jsx","Form","method","error","htmlFor","id","name","type","required","minLength","maxLength","pattern","placeholder","onChange","disabled","href"],"mappings":"oFAmBA,MAAAA,EAAAC,EAAA,UAAqC,CACnC,MAAMC,EAAaC,EAAA,EAEbC,EADaC,EAAA,EACaC,QAAU,aAEpC,CAACC,EAAUC,CAAW,EAAIC,EAAAA,SAAS,EAAE,EACrC,CAACC,EAAiBC,CAAkB,EAAIF,EAAAA,SAAS,EAAE,EAGnDG,EAAiBL,EAASM,OAAS,GAAKN,IAAaG,EACrDI,EAAuBJ,EAAgBG,OAAS,GAAKN,IAAaG,EAClEK,EAAcR,EAASM,QAAU,GAAKD,EAEtCI,EAAwBC,GAA2C,CACvET,EAAYS,EAAEC,OAAOC,KAAK,CAC5B,EAEMC,EAA+BH,GAA2C,CAC9EN,EAAmBM,EAAEC,OAAOC,KAAK,CACnC,EAEA,aACG,MAAA,CAAIE,UAAU,sFACbC,SAAAC,EAAAA,KAAC,MAAA,CAAIF,UAAU,4BACbC,SAAA,CAAAC,EAAAA,KAAC,MAAA,CACCD,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAGH,UAAU,oDAAoDC,SAAA,qBAAA,CAElE,EACAE,EAAAA,IAAC,IAAA,CAAEH,UAAU,yCAAyCC,SAAA,gCAAA,CAEtD,CAAA,CAAA,CACF,EAEAC,EAAAA,KAACE,EAAA,CAAKC,OAAO,OAAOL,UAAU,iBAC3BC,SAAA,CAAApB,GAAYyB,OACXH,EAAAA,IAAC,MAAA,CAAIH,UAAU,iEACZC,WAAWK,KAAA,CACd,EAGFJ,EAAAA,KAAC,MAAA,CAAIF,UAAU,YACbC,SAAA,CAAAC,EAAAA,KAAC,MAAA,CACCD,SAAA,CAAAE,EAAAA,IAAC,QAAA,CAAMI,QAAQ,WAAWP,UAAU,0CAA0CC,SAAA,UAAA,CAE9E,EACAE,EAAAA,IAAC,QAAA,CACCK,GAAG,WACHC,KAAK,WACLC,KAAK,OACLC,SAAQ,GACRC,UAAW,EACXC,UAAW,GACXC,QAAQ,gBACRd,UAAU,uIACVe,YAAY,SAAA,CACd,EACAZ,EAAAA,IAAC,IAAA,CAAEH,UAAU,6BAA6BC,SAAA,yDAAA,CAE1C,CAAA,CAAA,CACF,SAEC,MAAA,CACCA,SAAA,CAAAE,EAAAA,IAAC,QAAA,CAAMI,QAAQ,QAAQP,UAAU,0CAA0CC,SAAA,eAAA,CAE3E,EACAE,EAAAA,IAAC,QAAA,CACCK,GAAG,QACHC,KAAK,QACLC,KAAK,QACLC,SAAQ,GACRX,UAAU,uIACVe,YAAY,iBAAA,CACd,CAAA,CAAA,CACF,SAEC,MAAA,CACCd,SAAA,CAAAE,EAAAA,IAAC,QAAA,CAAMI,QAAQ,WAAWP,UAAU,0CAA0CC,SAAA,UAAA,CAE9E,EACAE,EAAAA,IAAC,QAAA,CACCK,GAAG,WACHC,KAAK,WACLC,KAAK,WACLC,SAAQ,GACRC,UAAW,EACXd,MAAOZ,EACP8B,SAAUrB,EACVK,UAAU,uIACVe,YAAY,UAAA,CACd,EACAZ,EAAAA,IAAC,IAAA,CAAEH,UAAU,6BAA6BC,SAAA,uBAAA,CAAqB,CAAA,CAAA,CACjE,SAEC,MAAA,CACCA,SAAA,CAAAE,EAAAA,IAAC,QAAA,CAAMI,QAAQ,mBAAmBP,UAAU,0CAA0CC,SAAA,kBAAA,CAEtF,EACAE,EAAAA,IAAC,QAAA,CACCK,GAAG,mBACHE,KAAK,WACLC,SAAQ,GACRb,MAAOT,EACP2B,SAAUjB,EACVC,UAAW,wHACTP,EAAuB,iBAAmB,iBAC5C,GACAsB,YAAY,WACd,EACCtB,GACCU,EAAAA,IAAC,IAAA,CAAEH,UAAU,4BAA4BC,SAAA,wBAAA,CAAsB,CAAA,CAAA,CAEnE,CAAA,CAAA,CACF,EAEAE,EAAAA,IAAC,SAAA,CACCO,KAAK,SACLO,SAAUlC,GAAgB,CAACW,EAC3BM,UAAU,2QAETC,WAAe,sBAAwB,SAAA,CAC1C,EAEAC,EAAAA,KAAC,IAAA,CAAEF,UAAU,oCAAoCC,SAAA,CAAA,2BACtB,UACxB,IAAA,CAAEiB,KAAK,SAASlB,UAAU,gDAAgDC,SAAA,QAAA,CAE3E,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,CAAA,CACF,CAEJ,CAAA"}