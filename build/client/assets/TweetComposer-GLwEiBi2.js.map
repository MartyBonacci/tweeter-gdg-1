{"version":3,"file":"TweetComposer-GLwEiBi2.js","sources":["../../../app/components/tweet/TweetComposer.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Form, useActionData } from 'react-router';\n\ninterface TweetComposerProps {\n  onCancel?: () => void;\n  showCancelButton?: boolean;\n  redirectOnSuccess?: boolean;\n}\n\nexport function TweetComposer({\n  onCancel,\n  showCancelButton = false,\n  redirectOnSuccess = true,\n}: TweetComposerProps) {\n  const actionData = useActionData<{ success?: boolean; error?: string }>();\n  const [content, setContent] = useState('');\n\n  // Clear form on successful submission\n  useEffect(() => {\n    if (actionData?.success) {\n      setContent('');\n    }\n  }, [actionData]);\n\n  const remainingChars = 140 - content.length;\n  const isValid = content.length > 0 && content.length <= 140;\n  const isOverLimit = remainingChars < 0;\n  const isNearLimit = remainingChars < 20 && remainingChars >= 0;\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm p-6\">\n      <Form method=\"post\" className=\"space-y-4\" autoComplete=\"off\">\n        <input type=\"hidden\" name=\"intent\" value=\"compose\" />\n        <div>\n          <textarea\n            name=\"content\"\n            value={content}\n            onChange={(e) => setContent(e.target.value)}\n            placeholder=\"What's happening?\"\n            autoComplete=\"off\"\n            className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none ${\n              isOverLimit ? 'border-red-500' : 'border-gray-300'\n            }`}\n            rows={4}\n            maxLength={200}\n          />\n          <div className=\"flex justify-between items-center mt-2\">\n            <span\n              className={`text-sm font-medium ${\n                isOverLimit\n                  ? 'text-red-600'\n                  : isNearLimit\n                    ? 'text-yellow-600'\n                    : 'text-gray-500'\n              }`}\n            >\n              {remainingChars} characters remaining\n            </span>\n            {isOverLimit && (\n              <span className=\"text-xs text-red-600\">\n                Your tweet is too long!\n              </span>\n            )}\n          </div>\n        </div>\n\n        {actionData?.error && (\n          <div className=\"p-3 bg-red-50 border border-red-200 rounded-lg\">\n            <p className=\"text-red-600 text-sm\">{actionData.error}</p>\n          </div>\n        )}\n\n        <div className=\"flex gap-3\">\n          <button\n            type=\"submit\"\n            disabled={!isValid}\n            className=\"flex-1 px-6 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition\"\n          >\n            Tweet\n          </button>\n          {showCancelButton && onCancel && (\n            <button\n              type=\"button\"\n              onClick={onCancel}\n              className=\"px-6 py-2.5 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300 transition\"\n            >\n              Cancel\n            </button>\n          )}\n        </div>\n      </Form>\n    </div>\n  );\n}\n"],"names":["TweetComposer","onCancel","showCancelButton","redirectOnSuccess","actionData","useActionData","content","setContent","useState","useEffect","remainingChars","isValid","isOverLimit","isNearLimit","jsx","jsxs","Form","e"],"mappings":"iEASO,SAASA,EAAc,CAC5B,SAAAC,EACA,iBAAAC,EAAmB,GACnB,kBAAAC,EAAoB,EACtB,EAAuB,CACrB,MAAMC,EAAaC,EAAA,EACb,CAACC,EAASC,CAAU,EAAIC,EAAAA,SAAS,EAAE,EAGzCC,EAAAA,UAAU,IAAM,CACVL,GAAY,SACdG,EAAW,EAAE,CAEjB,EAAG,CAACH,CAAU,CAAC,EAEf,MAAMM,EAAiB,IAAMJ,EAAQ,OAC/BK,EAAUL,EAAQ,OAAS,GAAKA,EAAQ,QAAU,IAClDM,EAAcF,EAAiB,EAC/BG,EAAcH,EAAiB,IAAMA,GAAkB,EAE7D,OACEI,EAAAA,IAAC,MAAA,CAAI,UAAU,oCACb,SAAAC,OAACC,EAAA,CAAK,OAAO,OAAO,UAAU,YAAY,aAAa,MACrD,SAAA,CAAAF,MAAC,SAAM,KAAK,SAAS,KAAK,SAAS,MAAM,UAAU,SAClD,MAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,WAAA,CACC,KAAK,UACL,MAAOR,EACP,SAAWW,GAAMV,EAAWU,EAAE,OAAO,KAAK,EAC1C,YAAY,oBACZ,aAAa,MACb,UAAW,yGACTL,EAAc,iBAAmB,iBACnC,GACA,KAAM,EACN,UAAW,GAAA,CAAA,EAEbG,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,EAAAA,KAAC,OAAA,CACC,UAAW,uBACTH,EACI,eACAC,EACE,kBACA,eACR,GAEC,SAAA,CAAAH,EAAe,uBAAA,CAAA,CAAA,EAEjBE,GACCE,EAAAA,IAAC,OAAA,CAAK,UAAU,uBAAuB,SAAA,yBAAA,CAEvC,CAAA,CAAA,CAEJ,CAAA,EACF,EAECV,GAAY,OACXU,MAAC,MAAA,CAAI,UAAU,iDACb,SAAAA,EAAAA,IAAC,IAAA,CAAE,UAAU,uBAAwB,SAAAV,EAAW,KAAA,CAAM,EACxD,EAGFW,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAD,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,SAAU,CAACH,EACX,UAAU,iJACX,SAAA,OAAA,CAAA,EAGAT,GAAoBD,GACnBa,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAASb,EACT,UAAU,4FACX,SAAA,QAAA,CAAA,CAED,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CACF,CAEJ"}