{"version":3,"file":"_layout-CRgree3b.js","sources":["../../../app/routes/_layout.tsx"],"sourcesContent":["import { Outlet, useLoaderData } from 'react-router';\nimport { requireAuth } from '~/lib/auth/session';\nimport { getUserById } from '~/models/user/user.model';\nimport type { Route } from './+types/_layout';\n\nexport async function loader({ request }: Route.LoaderArgs) {\n  const userId = await requireAuth(request);\n\n  // Get user profile for header\n  const user = await getUserById(userId);\n\n  return { user };\n}\n\nexport default function ProtectedLayout() {\n  const { user } = useLoaderData<typeof loader>();\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-white shadow-sm\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n          <div className=\"flex justify-between items-center\">\n            <div className=\"flex items-center space-x-4\">\n              <a href=\"/home\" className=\"text-2xl font-bold text-blue-600\">\n                Tweeter\n              </a>\n            </div>\n\n            <div className=\"flex items-center space-x-4\">\n              <a\n                href={`/${user?.username}`}\n                className=\"flex items-center space-x-2 text-gray-700 hover:text-blue-600\"\n              >\n                {user?.avatarUrl ? (\n                  <img\n                    src={user.avatarUrl}\n                    alt={user.username}\n                    className=\"w-8 h-8 rounded-full\"\n                  />\n                ) : (\n                  <div className=\"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-white font-semibold\">\n                    {user?.username.charAt(0).toUpperCase()}\n                  </div>\n                )}\n                <span className=\"text-sm font-medium\">{user?.username}</span>\n              </a>\n\n              <form action=\"/api/auth/logout\" method=\"post\">\n                <button\n                  type=\"submit\"\n                  className=\"text-gray-700 hover:text-red-600 px-3 py-2 rounded-md text-sm font-medium\"\n                >\n                  Logout\n                </button>\n              </form>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Main content */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <Outlet />\n      </main>\n\n      {/* Footer */}\n      <footer className=\"bg-white border-t mt-12\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n          <p className=\"text-center text-sm text-gray-500\">\n            &copy; 2026 Tweeter. All rights reserved.\n          </p>\n        </div>\n      </footer>\n    </div>\n  );\n}\n"],"names":["_layout","_UNSAFE_withComponentProps","user","useLoaderData","jsxs","className","children","jsx","href","username","avatarUrl","src","alt","charAt","toUpperCase","action","method","type","Outlet"],"mappings":"sEAcA,MAAAA,EAAAC,EAAA,UAA0C,CACxC,KAAM,CAAEC,KAAAA,GAASC,EAAA,EAEjB,OACEC,EAAAA,KAAC,MAAA,CAAIC,UAAU,0BAEbC,SAAA,CAAAC,EAAAA,IAAC,SAAA,CAAOF,UAAU,qBAChBC,SAAAC,EAAAA,IAAC,MAAA,CAAIF,UAAU,8CACbC,SAAAF,EAAAA,KAAC,MAAA,CAAIC,UAAU,oCACbC,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAIF,UAAU,8BACbC,SAAAC,EAAAA,IAAC,IAAA,CAAEC,KAAK,QAAQH,UAAU,mCAAmCC,SAAA,UAE7D,CAAA,CACF,EAEAF,EAAAA,KAAC,MAAA,CAAIC,UAAU,8BACbC,SAAA,CAAAF,EAAAA,KAAC,IAAA,CACCI,KAAM,IAAIN,GAAMO,QAAQ,GACxBJ,UAAU,gEAETC,SAAA,CAAAJ,GAAMQ,UACLH,EAAAA,IAAC,MAAA,CACCI,IAAKT,EAAKQ,UACVE,IAAKV,EAAKO,SACVJ,UAAU,sBAAA,CACZ,EAEAE,EAAAA,IAAC,MAAA,CAAIF,UAAU,6FACZC,SAAAJ,GAAMO,SAASI,OAAO,CAAC,EAAEC,YAAA,CAAY,CACxC,EAEFP,EAAAA,IAAC,OAAA,CAAKF,UAAU,sBAAuBC,YAAMG,QAAA,CAAS,CAAA,CAAA,CACxD,EAEAF,EAAAA,IAAC,OAAA,CAAKQ,OAAO,mBAAmBC,OAAO,OACrCV,SAAAC,EAAAA,IAAC,SAAA,CACCU,KAAK,SACLZ,UAAU,4EACXC,SAAA,SAED,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,EACF,CAAA,CACF,QAGC,OAAA,CAAKD,UAAU,8CACdC,SAAAC,EAAAA,IAACW,IAAO,CAAA,CACV,EAGAX,EAAAA,IAAC,SAAA,CAAOF,UAAU,0BAChBC,eAAC,MAAA,CAAID,UAAU,8CACbC,SAAAC,EAAAA,IAAC,IAAA,CAAEF,UAAU,oCAAoCC,SAAA,uCAEjD,EACF,CAAA,CACF,CAAA,CAAA,CACF,CAEJ,CAAA"}